@use 'variables' as v;

// ─── WooCommerce notices ───────────────────────────────────────────────────────
// WC outputs notices with these classes. Colours use direct hex values since
// error/success/info are semantic states, not brand design tokens.

.woocommerce-notices-wrapper {
  margin-bottom: 1.5rem;
}

.woocommerce-message,
.woocommerce-error,
.woocommerce-info {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  border: 1px solid;
  padding: 0.75rem 1rem;
  font-size: 0.875rem;
  line-height: 1.6;
  list-style: none;
  margin: 0 0 1rem;

  // WC wraps errors in a <ul> — reset list defaults
  li { list-style: none; }

  a.button,
  .button {
    margin-left: auto;
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    white-space: nowrap;
    padding: 0.5rem 1rem;
    border: 1px solid currentColor;
    transition: background-color 150ms ease, color 150ms ease;
  }
}

.woocommerce-message {
  background-color: #f0fdf4;
  border-color: #bbf7d0;
  color: #14532d;

  a.button:hover { background-color: #14532d; color: #fff; }
}

.woocommerce-error {
  background-color: #fff1f2;
  border-color: #fecdd3;
  color: #881337;
  flex-direction: column;
  gap: 0.25rem;

  a.button:hover { background-color: #881337; color: #fff; }
}

.woocommerce-info {
  background-color: v.$neutral-50;
  border-color: v.$neutral-200;
  color: v.$neutral-800;

  a.button:hover { background-color: v.$neutral-900; color: #fff; }
}

// ─── WooCommerce form fields ───────────────────────────────────────────────────
// Normalise WC's native form elements to match the theme's minimal aesthetic.

.woocommerce {
  input[type='text'],
  input[type='email'],
  input[type='tel'],
  input[type='password'],
  input[type='number'],
  input[type='search'],
  textarea,
  select {
    width: 100%;
    padding: 0.625rem 0.875rem;
    border: 1px solid v.$neutral-300;
    background-color: v.$color-white;
    color: v.$neutral-900;
    font-family: v.$font-sans;
    font-size: 0.875rem;
    line-height: 1.5;
    border-radius: 0;
    appearance: none;
    transition: border-color 150ms ease;

    &:focus {
      outline: none;
      border-color: v.$color-black;
    }

    &::placeholder { color: v.$neutral-400; }
  }

  // Quantity input — used in cart and product pages
  input.qty {
    width: 3.5rem;
    text-align: center;
    padding-inline: 0.5rem;
  }
}

// ─── WooCommerce rating stars ─────────────────────────────────────────────────

.woocommerce-product-rating {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  font-size: 0.75rem;
  color: v.$neutral-500;
}

.star-rating {
  display: inline-flex;
  gap: 1px;
  color: v.$color-black;

  span::before {
    // WC uses :before pseudo-element with font icons — override with CSS only
    // when WC's star font is not loaded.
    content: '★';
    font-size: 0.875rem;
    line-height: 1;
  }
}

// ─── Sale badge (WC native output) ────────────────────────────────────────────
// WC renders <span class="onsale"> — override default styles.

.woocommerce span.onsale {
  display: inline-block;
  padding: 0.125rem 0.5rem;
  background-color: v.$color-primary;
  color: v.$color-black;
  font-size: 0.625rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  line-height: 1.6;
  border-radius: 0;
  min-height: auto;
  min-width: auto;
}
